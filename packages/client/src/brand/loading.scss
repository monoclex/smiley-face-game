@mixin expand-to-fit-container {
  width: 100%;
  height: 100%;
}

.loading {
  @include expand-to-fit-container();
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 1em;

  animation: fade-in 0.5s;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }

  25% {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.rollingSmiley {
  width: 20%;
  border-radius: 50%;
  animation: roll 3s infinite ease-in-out;
}

@keyframes roll {
  50% {
    transform: translateX(400%) rotate(360deg);
  }
}

.jumpingText {
  font-size: 7em;
  display: flex;
  flex-direction: row;
  justify-content: center;
}

.jumpingTextLetter {
  animation: wave 2s ease infinite;
}

$length-of-loading-text: calc(str-length("loading...") + 1);

@for $i from 1 to $length-of-loading-text {
  .jumpingTextLetter:nth-child(#{$i}) {
    animation-delay: #{calc($i / 5)}s;
  }
}

@keyframes wave {
  50% {
    transform: translateY(-50%);
  }
}

.rainbowText {
  animation: rainbow 5s linear infinite;
}

@for $i from 1 to $length-of-loading-text {
  .jumpingTextLetter:nth-child(#{$i}) > .rainbowText {
    animation-delay: #{calc($i / 5)}s;
  }
}

$rainbow-colors: red, orange, yellow, green, blue, purple;
$rainbow-percent-mod: calc(100 / length($rainbow-colors));

@keyframes rainbow {
  @for $i from 1 through length($rainbow-colors) {
    $color: nth($rainbow-colors, $i);

    #{calc($rainbow-percent-mod * $i)}% {
      color: $color;
    }
  }
}
